/*!
Waypoints - 4.0.1
Copyright Â© 2011-2016 Caleb Troughton
Licensed under the MIT license.
https://github.com/imakewebthings/waypoints/blob/master/licenses.txt
*/
;!function(){function d(a){if(!a){throw new Error("No options passed to Waypoint constructor")}if(!a.element){throw new Error("No element option passed to Waypoint constructor")}if(!a.handler){throw new Error("No handler option passed to Waypoint constructor")}this.key="waypoint-"+f,this.options=d.Adapter.extend({},d.defaults,a),this.element=this.options.element,this.adapter=new d.Adapter(this.element),this.callback=a.handler,this.axis=this.options.horizontal?"horizontal":"vertical",this.enabled=this.options.enabled,this.triggerPoint=null,this.group=d.Group.findOrCreate({name:this.options.group,axis:this.axis}),this.context=d.Context.findOrCreateByElement(this.options.context),d.offsetAliases[this.options.offset]&&(this.options.offset=d.offsetAliases[this.options.offset]),this.group.add(this),this.context.add(this),e[this.key]=this,f+=1}var f=0,e={};d.prototype.queueTrigger=function(a){this.group.queueTrigger(this,a)},d.prototype.trigger=function(a){this.enabled&&this.callback&&this.callback.apply(this,a)},d.prototype.destroy=function(){this.context.remove(this),this.group.remove(this),delete e[this.key]},d.prototype.disable=function(){return this.enabled=!1,this},d.prototype.enable=function(){return this.context.refresh(),this.enabled=!0,this},d.prototype.next=function(){return this.group.next(this)},d.prototype.previous=function(){return this.group.previous(this)},d.invokeAll=function(k){var c=[];for(var b in e){c.push(e[b])}for(var a=0,j=c.length;j>a;a++){c[a][k]()}},d.destroyAll=function(){d.invokeAll("destroy")},d.disableAll=function(){d.invokeAll("disable")},d.enableAll=function(){d.Context.refreshAll();for(var a in e){e[a].enabled=!0}return this},d.refreshAll=function(){d.Context.refreshAll()},d.viewportHeight=function(){return window.innerHeight||document.documentElement.clientHeight},d.viewportWidth=function(){return document.documentElement.clientWidth},d.adapters=[],d.defaults={context:window,continuous:!0,enabled:!0,group:"default",horizontal:!1,offset:0},d.offsetAliases={"bottom-in-view":function(){return this.context.innerHeight()-this.adapter.outerHeight()},"right-in-view":function(){return this.context.innerWidth()-this.adapter.outerWidth()}},window.Waypoint=d}(),function(){function e(a){window.setTimeout(a,1000/60)}function k(a){this.element=a,this.Adapter=i.Adapter,this.adapter=new this.Adapter(a),this.key="waypoint-context-"+h,this.didScroll=!1,this.didResize=!1,this.oldScroll={x:this.adapter.scrollLeft(),y:this.adapter.scrollTop()},this.waypoints={vertical:{},horizontal:{}},a.waypointContextKey=this.key,j[a.waypointContextKey]=this,h+=1,i.windowContext||(i.windowContext=!0,i.windowContext=new k(window)),this.createThrottledScrollHandler(),this.createThrottledResizeHandler()}var h=0,j={},i=window.Waypoint,l=window.onload;k.prototype.add=function(b){var a=b.options.horizontal?"horizontal":"vertical";this.waypoints[a][b.key]=b,this.refresh()},k.prototype.checkEmpty=function(){var b=this.Adapter.isEmptyObject(this.waypoints.horizontal),a=this.Adapter.isEmptyObject(this.waypoints.vertical),c=this.element==this.element.window;b&&a&&!c&&(this.adapter.off(".waypoints"),delete j[this.key])},k.prototype.createThrottledResizeHandler=function(){function b(){a.handleResize(),a.didResize=!1}var a=this;this.adapter.on("resize.waypoints",function(){a.didResize||(a.didResize=!0,i.requestAnimationFrame(b))})},k.prototype.createThrottledScrollHandler=function(){function b(){a.handleScroll(),a.didScroll=!1}var a=this;this.adapter.on("scroll.waypoints",function(){(!a.didScroll||i.isTouch)&&(a.didScroll=!0,i.requestAnimationFrame(b))})},k.prototype.handleResize=function(){i.Context.refreshAll()},k.prototype.handleScroll=function(){var b={},r={horizontal:{newScroll:this.adapter.scrollLeft(),oldScroll:this.oldScroll.x,forward:"right",backward:"left"},vertical:{newScroll:this.adapter.scrollTop(),oldScroll:this.oldScroll.y,forward:"down",backward:"up"}};for(var t in r){var g=r[t],c=g.newScroll>g.oldScroll,o=c?g.forward:g.backward;for(var a in this.waypoints[t]){var f=this.waypoints[t][a];if(null!==f.triggerPoint){var u=g.oldScroll<f.triggerPoint,s=g.newScroll>=f.triggerPoint,n=u&&s,d=!u&&!s;(n||d)&&(f.queueTrigger(o),b[f.group.id]=f.group)}}}for(var p in b){b[p].flushTriggers()}this.oldScroll={x:r.horizontal.newScroll,y:r.vertical.newScroll}},k.prototype.innerHeight=function(){return this.element==this.element.window?i.viewportHeight():this.adapter.innerHeight()},k.prototype.remove=function(a){delete this.waypoints[a.axis][a.key],this.checkEmpty()},k.prototype.innerWidth=function(){return this.element==this.element.window?i.viewportWidth():this.adapter.innerWidth()},k.prototype.destroy=function(){var d=[];for(var c in this.waypoints){for(var f in this.waypoints[c]){d.push(this.waypoints[c][f])}}for(var b=0,a=d.length;a>b;b++){d[b].destroy()}},k.prototype.refresh=function(){var y,f=this.element==this.element.window,c=f?void 0:this.adapter.offset(),o={};this.handleScroll(),y={horizontal:{contextOffset:f?0:c.left,contextScroll:f?0:this.oldScroll.x,contextDimension:this.innerWidth(),oldScroll:this.oldScroll.x,forward:"right",backward:"left",offsetProp:"left"},vertical:{contextOffset:f?0:c.top,contextScroll:f?0:this.oldScroll.y,contextDimension:this.innerHeight(),oldScroll:this.oldScroll.y,forward:"down",backward:"up",offsetProp:"top"}};for(var r in y){var u=y[r];for(var L in this.waypoints[r]){var g,w,p,J,b,d=this.waypoints[r][L],s=d.options.offset,K=d.triggerPoint,a=0,t=null==K;d.element!==d.element.window&&(a=d.adapter.offset()[u.offsetProp]),"function"==typeof s?s=s.apply(d):"string"==typeof s&&(s=parseFloat(s),d.options.offset.indexOf("%")>-1&&(s=Math.ceil(u.contextDimension*s/100))),g=u.contextScroll-u.contextOffset,d.triggerPoint=Math.floor(a+g-s),w=K<u.oldScroll,p=d.triggerPoint>=u.oldScroll,J=w&&p,b=!w&&!p,!t&&J?(d.queueTrigger(u.backward),o[d.group.id]=d.group):!t&&b?(d.queueTrigger(u.forward),o[d.group.id]=d.group):t&&u.oldScroll>=d.triggerPoint&&(d.queueTrigger(u.forward),o[d.group.id]=d.group)}}return i.requestAnimationFrame(function(){for(var m in o){o[m].flushTriggers()}}),this},k.findOrCreateByElement=function(a){return k.findByElement(a)||new k(a)},k.refreshAll=function(){for(var a in j){j[a].refresh()}},k.findByElement=function(a){return j[a.waypointContextKey]},window.onload=function(){l&&l(),k.refreshAll()},i.requestAnimationFrame=function(a){var b=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||e;b.call(window,a)},i.Context=k}(),function(){function e(b,a){return b.triggerPoint-a.triggerPoint}function j(b,a){return a.triggerPoint-b.triggerPoint}function g(a){this.name=a.name,this.axis=a.axis,this.id=this.name+"-"+this.axis,this.waypoints=[],this.clearTriggerQueues(),i[this.axis][this.name]=this}var i={vertical:{},horizontal:{}},h=window.Waypoint;g.prototype.add=function(a){this.waypoints.push(a)},g.prototype.clearTriggerQueues=function(){this.triggerQueues={up:[],down:[],left:[],right:[]}},g.prototype.flushTriggers=function(){for(var f in this.triggerQueues){var b=this.triggerQueues[f],a="up"===f||"left"===f;b.sort(a?j:e);for(var c=0,d=b.length;d>c;c+=1){var m=b[c];(m.options.continuous||c===b.length-1)&&m.trigger([f])}}this.clearTriggerQueues()},g.prototype.next=function(b){this.waypoints.sort(e);var c=h.Adapter.inArray(b,this.waypoints),a=c===this.waypoints.length-1;return a?null:this.waypoints[c+1]},g.prototype.previous=function(a){this.waypoints.sort(e);var b=h.Adapter.inArray(a,this.waypoints);return b?this.waypoints[b-1]:null},g.prototype.queueTrigger=function(b,a){this.triggerQueues[a].push(b)},g.prototype.remove=function(b){var a=h.Adapter.inArray(b,this.waypoints);a>-1&&this.waypoints.splice(a,1)},g.prototype.first=function(){return this.waypoints[0]},g.prototype.last=function(){return this.waypoints[this.waypoints.length-1]},g.findOrCreate=function(a){return i[a.axis][a.name]||new g(a)},h.Group=g}(),function(){function d(a){this.$element=f(a)}var f=window.jQuery,e=window.Waypoint;f.each(["innerHeight","innerWidth","off","offset","on","outerHeight","outerWidth","scrollLeft","scrollTop"],function(a,b){d.prototype[b]=function(){var c=Array.prototype.slice.call(arguments);return this.$element[b].apply(this.$element,c)}}),f.each(["extend","inArray","isEmptyObject"],function(b,a){d[a]=f[a]}),e.adapters.push({name:"jquery",Adapter:d}),e.Adapter=d}(),function(){function d(a){return function(){var f=[],b=arguments[0];return a.isFunction(arguments[0])&&(b=a.extend({},arguments[1]),b.handler=arguments[0]),this.each(function(){var e=a.extend({},b,{element:this});"string"==typeof e.context&&(e.context=a(this).closest(e.context)[0]),f.push(new c(e))}),f}}var c=window.Waypoint;window.jQuery&&(window.jQuery.fn.waypoint=d(window.jQuery)),window.Zepto&&(window.Zepto.fn.waypoint=d(window.Zepto))}();